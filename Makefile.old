# Compiler and flags
CXX := g++
CXXFLAGS := -Wall -std=c++17 
LDFLAGS := -lraylib

# Paths
SRC := $(shell find src -name '*.cpp')
OBJ := $(patsubst src/%.cpp, build/%.o, $(SRC))
BIN := main

# Default rule
all: $(BIN)
# run the application
run: $(BIN)
	./main

# Link all object files into the final binary
$(BIN): $(OBJ)
	$(CXX) $(OBJ) $(LDFLAGS) -o $@

# Compile each .cpp to a .o in build/
build/%.o: src/%.cpp
	@mkdir -p $(dir $@)
	$(CXX) $(CXXFLAGS) -c $< -o $@

# Clean all generated files
clean:
	rm -rf build $(BIN)


